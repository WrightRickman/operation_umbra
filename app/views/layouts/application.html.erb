<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Operation Umbra</title>

    <%= stylesheet_link_tag    "application" %>
    <%= javascript_include_tag "vendor/modernizr" %>
    <%= csrf_meta_tags %> 

    <script id="create-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Create Game</h3>
        <form>
          <input id="agency_name_input" placeholder='Agency Name'><br />
          <input id="end_difficulty_input" placeholder='Difficulty (1-7)'><br />
          <button id="create_game_submit">Enlist</button>
        </form>
      </div>
    </script>

    <script id="join-template" type="text/x-handlebars-template">
      <div id="wrapper">
         <div id="wrapper">
          <h3>Lobby</h3>
          <table>
            <thead>
              <th>Game ID</th>
              <th>Agency Name</th>
              <th>Security Level</th>
              <th></th>
            </thead>
            <tbody>
              {{#each lobby}}
                <tr>
                  <td>{{id}}</td>
                  <td>{{name}}</td>
                  <td>{{max_difficulty}}</td>
                  <td><button class="join_game_button">Join Game</button></td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </script>

    <%# start page for admin of game %>
    <script id="admin-start-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Start Game For Admin</h3>
        <div id="current_game">

        </div>
        <button id="start_game_button">Start</button><br />
        <button id="disband_game_button">Disband</button>
      </div>
    </script>

    <%# start page for player of game %>
    <script id="player-start-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Start Game For Player</h3>
        <div id="current_game">

        </div>
        <button id="start_game_button">Start</button><br />
        <button id="disband_game_button">Disband</button>
      </div>
    </script>

    <%#start page for sneaky people that like to enter routes they know they shouldn't enter %>
    <script id="nobody-start-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Start Game For Nobody</h3>
        <div id="current_game">

        </div>
        <button id="start_game_button">Start</button><br />
        <button id="disband_game_button">Disband</button>
      </div>
    </script>

    <script id="current-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Current Game</h3>
      </div>
    </script>

    <script id="menu-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Menu</h3>
        <% if !current_user %>
          <a href="/users/sign_up">Sign Up</a><br />
          <a href="/users/sign_in">Sign In</a><br />
        <% end %>
        <a href="#start">Start</a><br />
        <a href="#current">Current</a><br />
        <a href="#myGames">My Game</a><br />
        <a href="#pastGames">Past Game</a><br />
        <% if user_signed_in? %>
          <a href="/users/sign_out" data-method="delete" rel="nofollow">Sign Out</a>
        <% end %>
      </div>
    </script>

    <script id="myGames-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>My Games</h3>
      </div>
    </script>

    <script id="pastGames-template" type="text/x-handlebars-template">
      <div id="wrapper">
        <h3>Past Games</h3>
      </div>
    </script>

  </head>

  <body>
    <nav>
      <a href="#create">Create</a>
      <a href="#lobby">Lobby</a>
      <a href="#menu">Menu</a>
    </nav>

    <h1>Operation Umbra</h1>

    <div id="state_frame">

      <%= yield %>

    </div>

    <%= javascript_include_tag "application" %>
  </body>
</html>